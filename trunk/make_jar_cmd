# Copyright 2010 Benjamin Raphael, Suzanne Sindi, Hsin-Ta Wu, Anna Ritz, Luke Peng
# 
#   This file is part of gasv.
#  
#   gasv is free software: you can redistribute it and/or modify
#   it under the terms of the GNU General Public License as published by
#   the Free Software Foundation, either version 3 of the License, or
#   (at your option) any later version.
#  
#   gasv is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#   GNU General Public License for more details.
#   
#   You should have received a copy of the GNU General Public License
#   along with gasv.  If not, see <http://www.gnu.org/licenses/>.
# 

echo "Compiling java files..."
cd src/java
javac gasv/*/*.java
javac maqpreprocessor/*.java
# Comment out above 2 lines and uncomment the following 2 to make runnable with Java 5
#javac -target 1.5 -bootclasspath /pro/java/linux/jdk1.5/jre/lib/rt.jar -extdirs "" gasv/*/*.java
#javac -target 1.5 -bootclasspath /pro/java/linux/jdk1.5/jre/lib/rt.jar -extdirs "" maqpreprocessor/*.java

echo ""


echo "Creating maqprocessor.jar..."
jar cmf mainClassMaqProcessor.txt maqprocessor.jar maqpreprocessor/*.class
echo "...done creating maqprocessor.jar"
echo ""


echo "Creating gasv.jar..."
jar cmf mainClass.txt gasv.jar gasv/*/*.class
echo "...done creating gasv.jar"
echo ""


echo "To run the Maq Processor, enter"
echo "java -jar maqprocessor.jar <mode> <args>"
echo "For usage instrucations, enter"
echo "java -jar maqprocessor.jar"
echo ""


echo "To run GASV, enter"
echo "java -jar gasv.jar <mode> <args>"
echo "For usage instructions, enter"
echo "java -jar gasv.jar"
echo ""
mv -f *.jar ../../lib/
rm -f gasv/*/*.class
rm -f maqpreprocessor/*.class
